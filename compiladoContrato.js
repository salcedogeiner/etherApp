Web3 = require('web3')
web3 = new Web3(new Web3.providers.HttpProvider("http://ritaportal.udistrital.edu.co:10141"));
var account=web3.eth.coinbase;
var password="password";

web3.personal.unlockAccount(account, password,function(error, result)  {

            // console.log(error,result)
            if(error){
                console.log(error);
            } else {
                // Result = True if unlocked, else false
                var str = account+'...Unlocked';
                if(result){
                  var documentsContract = web3.eth.contract([{"constant":true,"inputs":[],"name":"countDocuments","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"documentAccts","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_address","type":"string"}],"name":"getDocument","outputs":[{"name":"","type":"string"},{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"nom","type":"string"},{"name":"cod","type":"string"}],"name":"setDocument","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"getDocuments","outputs":[{"name":"","type":"string[]"}],"payable":false,"stateMutability":"view","type":"function"}]);
                  var documents = documentsContract.new(
                    {
                      from: web3.eth.accounts[0],
                      data: '0x6060604052341561000f57600080fd5b610b7d8061001e6000396000f30060606040526004361061006d576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff168063206302ef146100725780634b81092f1461009b5780637ccb6a64146100d15780639c64d0ae14610108578063ef2d87001461012a575b600080fd5b341561007d57600080fd5b610085610153565b6040516100929190610a2d565b60405180910390f35b34156100a657600080fd5b6100bb60046100b69036906108a0565b610160565b6040516100c891906109d4565b60405180910390f35b34156100dc57600080fd5b6100f160046100ec9036906107f3565b61021c565b6040516100ff9291906109f6565b60405180910390f35b341561011357600080fd5b6101286004610123903690610834565b610449565b005b341561013557600080fd5b61013d61052c565b60405161014a91906109b2565b60405180910390f35b6000600180549050905090565b60018181548110151561016f57fe5b90600052602060002090016000915090508054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156102145780601f106101e957610100808354040283529160200191610214565b820191906000526020600020905b8154815290600101906020018083116101f757829003601f168201915b505050505081565b61022461061c565b61022c61061c565b6000836040518082805190602001908083835b602083101515610264578051825260208201915060208101905060208303925061023f565b6001836020036101000a03801982511681845116808217855250505050505090500191505090815260200160405180910390206001016000846040518082805190602001908083835b6020831015156102d257805182526020820191506020810190506020830392506102ad565b6001836020036101000a0380198251168184511680821785525050505050509050019150509081526020016040518091039020600001818054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561039d5780601f106103725761010080835404028352916020019161039d565b820191906000526020600020905b81548152906001019060200180831161038057829003601f168201915b50505050509150808054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156104395780601f1061040e57610100808354040283529160200191610439565b820191906000526020600020905b81548152906001019060200180831161041c57829003601f168201915b5050505050905091509150915091565b600080826040518082805190602001908083835b602083101515610482578051825260208201915060208101905060208303925061045d565b6001836020036101000a03801982511681845116808217855250505050505090500191505090815260200160405180910390209050828160000190805190602001906104cf929190610630565b50818160010190805190602001906104e8929190610630565b5060018080548060010182816104fe91906106b0565b916000526020600020900160008590919091509080519060200190610524929190610630565b505050505050565b6105346106dc565b6001805480602002602001604051908101604052809291908181526020016000905b8282101561061357838290600052602060002090018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156105ff5780601f106105d4576101008083540402835291602001916105ff565b820191906000526020600020905b8154815290600101906020018083116105e257829003601f168201915b505050505081526020019060010190610556565b50505050905090565b602060405190810160405280600081525090565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061067157805160ff191683800117855561069f565b8280016001018555821561069f579182015b8281111561069e578251825591602001919060010190610683565b5b5090506106ac91906106f0565b5090565b8154818355818115116106d7578183600052602060002091820191016106d69190610715565b5b505050565b602060405190810160405280600081525090565b61071291905b8082111561070e5760008160009055506001016106f6565b5090565b90565b61073e91905b8082111561073a57600081816107319190610741565b5060010161071b565b5090565b90565b50805460018160011615610100020316600290046000825580601f106107675750610786565b601f01602090049060005260206000209081019061078591906106f0565b5b50565b600082601f830112151561079c57600080fd5b81356107af6107aa82610a75565b610a48565b915080825260208301602083018583830111156107cb57600080fd5b6107d6838284610af0565b50505092915050565b60006107eb8235610ae6565b905092915050565b60006020828403121561080557600080fd5b600082013567ffffffffffffffff81111561081f57600080fd5b61082b84828501610789565b91505092915050565b6000806040838503121561084757600080fd5b600083013567ffffffffffffffff81111561086157600080fd5b61086d85828601610789565b925050602083013567ffffffffffffffff81111561088a57600080fd5b61089685828601610789565b9150509250929050565b6000602082840312156108b257600080fd5b60006108c0848285016107df565b91505092915050565b60006108d482610aae565b808452602084019350836020820285016108ed85610aa1565b60005b8481101561092657838303885261090883835161096d565b925061091382610acf565b91506020880197506001810190506108f0565b508196508694505050505092915050565b600061094282610ac4565b808452610956816020860160208601610aff565b61095f81610b32565b602085010191505092915050565b600061097882610ab9565b80845261098c816020860160208601610aff565b61099581610b32565b602085010191505092915050565b6109ac81610adc565b82525050565b600060208201905081810360008301526109cc81846108c9565b905092915050565b600060208201905081810360008301526109ee818461096d565b905092915050565b60006040820190508181036000830152610a108185610937565b90508181036020830152610a248184610937565b90509392505050565b6000602082019050610a4260008301846109a3565b92915050565b6000604051905081810181811067ffffffffffffffff82111715610a6b57600080fd5b8060405250919050565b600067ffffffffffffffff821115610a8c57600080fd5b601f19601f8301169050602081019050919050565b6000602082019050919050565b600081519050919050565b600081519050919050565b600081519050919050565b6000602082019050919050565b6000819050919050565b6000819050919050565b82818337600083830152505050565b60005b83811015610b1d578082015181840152602081019050610b02565b83811115610b2c576000848401525b50505050565b6000601f19601f83011690509190505600a265627a7a72305820efcc141885a6d77e9846426eb4b0ad538403be717155614eee4578b085cd13386c6578706572696d656e74616cf50037',
                      gas: '4700000'
                    }, function (e, contract){
                      console.log(e, contract);
                      if (typeof contract.address !== 'undefined') {
                          console.log('Contract mined! address: ' + contract.address + ' transactionHash: ' + contract.transactionHash);
                      }
                  })
                    /// desbloquear cuenta

                    //
                } else {
                    // This does not get called - since and error is returned for incorrect password :-)
                    str = 'Incorrect Password???';
                    console.log(str);
                }
            }
        });


